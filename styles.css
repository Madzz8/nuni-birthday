/* Reset بسيط */
*{ margin:0; padding:0; box-sizing:border-box; }

body{
  min-height:100vh;
  font-family:"Segoe UI", Tahoma, sans-serif;
  background: linear-gradient(135deg, #ffe2f0, #ffd1e6);
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  direction: rtl;
  overflow:hidden;
}

/* طبقة الاحتفال */
.celebrateLayer{
  position: fixed;
  inset: 0;
  pointer-events:none;
  z-index: 10;
}
.hidden{ display:none; }

/* تغميق الأطراف (Vignette) */
.focusOverlay{
  position: fixed;
  inset: 0;
  z-index: 15; /* فوق الخلفية وتحت الكرت */
  pointer-events: none;
  opacity: 0;
  transition: opacity 450ms ease;
  background:
    radial-gradient(circle at center,
      rgba(0,0,0,0.00) 0%,
      rgba(0,0,0,0.08) 40%,
      rgba(0,0,0,0.22) 70%,
      rgba(0,0,0,0.40) 100%);
}
.focusOverlay.on{ opacity: 1; }

/* كرت المحتوى */
.card{
  position: relative;
  z-index: 20;
  background:white;
  padding:30px 25px;
  border-radius:25px;
  box-shadow:0 15px 35px rgba(255,105,180,0.25);
  max-width:420px;
  width:90%;
}

.card.party{
  animation: cardShake 900ms ease-in-out 1;
}
@keyframes cardShake{
  0%{ transform: translate(0,0) rotate(0deg); }
  15%{ transform: translate(2px,-2px) rotate(0.4deg); }
  30%{ transform: translate(-2px,2px) rotate(-0.4deg); }
  45%{ transform: translate(2px,1px) rotate(0.3deg); }
  60%{ transform: translate(-2px,-1px) rotate(-0.3deg); }
  100%{ transform: translate(0,0) rotate(0deg); }
}

/* العنوان */
h1{
  color:#ff4fa0;
  font-size:28px;
  margin-bottom:12px;
}

p{ font-size:18px; color:#555; }
#subtitle{ margin-bottom:18px; }

.grid{
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:10px;
  margin:14px 0 12px;
  direction:ltr;
}

.box{
  background:rgba(255,255,255,0.75);
  border:1px solid rgba(255,255,255,0.9);
  border-radius:16px;
  padding:10px 6px;
  box-shadow:0 10px 20px rgba(255,79,160,0.12);
}

.num{
  font-size:26px;
  font-weight:900;
  color:#ff4fa0;
  line-height:1;
}

.lab{
  font-size:12px;
  opacity:0.8;
  margin-top:6px;
}

.btn{
  margin-top:10px;
  padding:12px 16px;
  border:none;
  border-radius:999px;
  font-weight:900;
  cursor:pointer;
  background:white;
  box-shadow:0 12px 24px rgba(255,79,160,0.18);
}

.btn.pink{
  background: linear-gradient(135deg, #ff9acc, #ff58a5);
  color:white;
}

.note{
  margin-top:10px;
  font-size:12px;
  opacity:0.8;
}

.hbd{
  margin-top:10px;
  color:#ff4fa0;
}

.btnRow{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:10px;
}

.msg{
  margin-top:12px;
  background: rgba(255,255,255,0.75);
  padding:12px 14px;
  border-radius:18px;
  box-shadow:0 12px 22px rgba(255,79,160,0.12);
  opacity: 1;
}

.msg.reveal{
  animation: msgReveal 700ms ease forwards;
}
@keyframes msgReveal{
  from{ opacity:0; transform: translateY(10px); }
  to{ opacity:1; transform: translateY(0); }
}

.emojis{ margin-top:8px; font-size:22px; }

/* أنيميشن دخول/خروج */
.fade-out{ animation: fadeOut .5s ease forwards; }
.fade-in{ animation: fadeIn .6s ease forwards; }
@keyframes fadeOut{ to{ opacity:0; transform: translateY(8px); } }
@keyframes fadeIn{ from{ opacity:0; transform: translateY(8px); } to{ opacity:1; transform: translateY(0); } }

/* ===== Cute Cake SVG ===== */
.cakeWrap{
  margin:14px auto 8px;
  width:240px;
  height:240px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.cakeSvg svg{
  filter: drop-shadow(0 18px 25px rgba(255,79,160,0.18));
}

.cakeSvg.pop{
  animation: cakePopPro 900ms cubic-bezier(.2,.9,.2,1) 1;
}
@keyframes cakePopPro{
  0%{ transform: scale(0.98); }
  35%{ transform: scale(1.08); }
  70%{ transform: scale(1.02); }
  100%{ transform: scale(1); }
}

.cakeShadow{ fill: rgba(255,79,160,0.12); }
.cakeBase{ fill:#ffffff; }
.cakeMid{ fill:#ffe6f2; }
.cakeTop{ fill:#ffb6d6; }
.icing{ fill:#ffd3e8; opacity:0.95; }
.icing2{ fill:#ffc3df; opacity:0.95; }

.candle{ fill:#ffffff; stroke: rgba(255,79,160,0.35); stroke-width:2; }
.candleStripe{ stroke:#ff4fa0; stroke-width:3; stroke-linecap:round; opacity:0.65; }

.flame{
  transform-origin: 140px 24px;
  animation: flameFlicker 0.9s infinite ease-in-out;
}
.flameOuter{ fill:#ff7a3d; }
.flameInner{ fill:#ffd24d; }

@keyframes flameFlicker{
  0%,100%{ transform: rotate(-2deg) scale(1); opacity:1; }
  50%{ transform: rotate(2deg) scale(1.06); opacity:0.92; }
}

.flame.out{
  animation:none;
  opacity:0;
  transform: scale(0.2);
  transition:0.35s ease;
}

/* ===== قلوب تطلع ===== */
.hearts{ position:absolute; inset:0; overflow:hidden; }

.heartFloat{
  position:absolute;
  left: var(--x);
  bottom: -40px;
  width: 18px;
  height: 18px;
  transform: rotate(45deg);
  background: rgba(255,79,160,0.92);
  border-radius: 4px;
  animation: heartUp var(--dur) ease-out forwards;
  filter: drop-shadow(0 10px 16px rgba(255,79,160,0.22));
}
.heartFloat::before,
.heartFloat::after{
  content:"";
  position:absolute;
  width: 18px;
  height: 18px;
  background: inherit;
  border-radius: 50%;
}
.heartFloat::before{ left: -9px; top: 0; }
.heartFloat::after{ left: 0; top: -9px; }

@keyframes heartUp{
  0%{ transform: translate(0,0) rotate(45deg) scale(0.9); opacity:0; }
  10%{ opacity:1; }
  100%{ transform: translate(var(--dx), -520px) rotate(45deg) scale(1.25); opacity:0; }
}

/* ===== كونفيتي ===== */
.confetti{ position:absolute; inset:0; overflow:hidden; }
.confettiPiece{
  position:absolute;
  top: -20px;
  left: var(--x);
  width: 10px;
  height: 16px;
  background: var(--c);
  border-radius: 3px;
  opacity: 0.95;
  transform: rotate(var(--r));
  animation: confettiFall var(--dur) linear forwards;
}

@keyframes confettiFall{
  to{
    transform: translateY(720px) rotate(calc(var(--r) + 240deg));
    opacity: 0;
  }
}

/* ===== Emoji Burst ===== */
.emojiBurst{
  position: fixed;
  inset: 0;
  z-index: 16;
  pointer-events: none;
  overflow: hidden;
}

.emoji{
  position: absolute;
  left: var(--x);
  top: var(--y);
  font-size: var(--size);
  opacity: 0;
  animation: emojiPop var(--dur) ease-out forwards;
  filter: drop-shadow(0 10px 18px rgba(255,79,160,0.18));
}

@keyframes emojiPop{
  0%{ transform: translate(0,0) scale(0.5) rotate(0deg); opacity:0; }
  12%{ opacity:1; }
  100%{ transform: translate(var(--dx), var(--dy)) scale(1.25) rotate(var(--rot)); opacity:0; }
}
